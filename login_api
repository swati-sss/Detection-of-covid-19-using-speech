private func showScanResults(with wuId: String) {
    DispatchQueue.main.async { [weak self] in
        self?.showPhotoGallery = false // Close any open gallery
        
        let scanResultView = ScanResultView(wuId: wuId)
        let hostingController = UIHostingController(rootView: scanResultView)
        hostingController.modalPresentationStyle = .fullScreen
        
        if let windowScene = UIApplication.shared.connectedScenes.first as? UIWindowScene,
           let window = windowScene.windows.first,
           let rootVC = window.rootViewController {
            
            var presentingVC = rootVC
            while let presented = presentingVC.presentedViewController {
                presentingVC = presented
            }
            
            presentingVC.present(hostingController, animated: true)
        }
    }
}
