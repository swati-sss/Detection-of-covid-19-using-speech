import Foundation
@testable import compass_sdk_ios
import IPSFramework

class MockEventService: EventService, TestMockable {
    var _cacheEventExecuted = false
    var _cacheAndBootstrapAssetExecuted = false
    var _shouldFail = false

    func cacheEvent(_ event: CompassEvent,
                    position: CGPoint,
                    aisle: String,
                    allAisles: [String]?) {
        _cacheEventExecuted = true
    }

    func cacheAndBootstrapAsset(_ event: CompassEvent, position: CGPoint) async -> BootstrapStatus {
        _cacheAndBootstrapAssetExecuted = true
        return _shouldFail ? .notBootstrapped : .bootstrapped
    }

    func _resetMock() {
        _cacheEventExecuted = false
        _cacheAndBootstrapAssetExecuted = false
    }
}
