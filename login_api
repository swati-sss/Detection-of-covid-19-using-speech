import SwiftUI
  import LivingDesign

  struct SnackbarDemoView: View {
      var body: some View {
          SnackbarDemoControllerWrapper()
              .navigationTitle("LD Snackbar Demo")
              .navigationBarTitleDisplayMode(.inline)
      }
  }

  /// Wraps a plain UIKit view controller so we can use LDâ€™s snackbar APIs
  private struct SnackbarDemoControllerWrapper: UIViewControllerRepresentable {
      func makeUIViewController(context: Context) -> SnackbarDemoViewController {
          SnackbarDemoViewController()
      }

      func updateUIViewController(_ controller: SnackbarDemoViewController, context: Context) { }
  }

  private final class SnackbarDemoViewController: UIViewController {
      private var snackbar: LivingDesign.LDSnackbar?

      override func viewDidLoad() {
          super.viewDidLoad()
          view.backgroundColor = .systemBackground

          let button = UIButton(type: .system)
          button.translatesAutoresizingMaskIntoConstraints = false
          button.setTitle("Show LD Snackbar", for: .normal)
          button.titleLabel?.font = .preferredFont(forTextStyle: .headline)
          button.addTarget(self, action: #selector(showSnackbar), for: .touchUpInside)

          view.addSubview(button)
          NSLayoutConstraint.activate([
              button.centerXAnchor.constraint(equalTo: view.centerXAnchor),
              button.centerYAnchor.constraint(equalTo: view.centerYAnchor),
              button.heightAnchor.constraint(equalToConstant: 48),
              button.widthAnchor.constraint(equalToConstant: 220)
          ])
      }

      @objc private func showSnackbar() {
          snackbar?.removeFromSuperview()

          let model = LivingDesign.LDSnackbar.Model(
              message: "Hello from LivingDesign!",
              duration: 3.5
          )

          let snackbar = LivingDesign.LDSnackbar(dataModel: model)
          snackbar.showSnackbar(in: view) { snackbar in
              [
                  snackbar.leadingAnchor.constraint(equalTo: view.safeAreaLayoutGuide.leadingAnchor, constant:
  16),
                  snackbar.trailingAnchor.constraint(equalTo: view.safeAreaLayoutGuide.trailingAnchor,
  constant: -16),
                  snackbar.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor, constant:
  -16),
                  snackbar.heightAnchor.constraint(greaterThanOrEqualToConstant: 50)
              ]
          }

          self.snackbar = snackbar
      }
  }
