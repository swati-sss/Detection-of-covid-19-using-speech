// Add this new method to handle the toggle
private func toggleLocalMapConfig() {
    // Toggle the flag
    useLocalMapConfig.toggle()
    
    // Save to UserDefaults so StoreMapView can read it
    UserDefaults.standard.set(useLocalMapConfig, forKey: "useLocalMapConfig")
    UserDefaults.standard.synchronize()
    
    // Update the menu to reflect the new state
    if let otherAPIsButton = getOtherAPIsButton() {
        setOtherAPIsButtonMenu(otherAPIsButton)
    }
    
    // Show confirmation to user
    let message = useLocalMapConfig ? 
        "Local map config ENABLED\n(Store number changes won't work)" : 
        "Local map config DISABLED\n(Store number changes will work)"
    
    let alert = UIAlertController(
        title: "Map Configuration",
        message: message,
        preferredStyle: .alert
    )
    alert.addAction(UIAlertAction(title: "OK", style: .default) { _ in
        // Optionally reinitialize the map with current settings
        self.initialize(false)
    })
    present(alert, animated: true)
}

// Helper method to get the Other APIs button from the collection view
private func getOtherAPIsButton() -> UIButton? {
    // Index 2 is the "Other APIs" button based on your collection view setup
    let indexPath = IndexPath(row: 2, section: 0)
    if let cell = buttonCollection.cellForItem(at: indexPath) as? CollectionViewCell {
        return cell.button
    }
    return nil
}
